<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h1></h1>
	<script>

		document.querySelector('h1').innerText = `dom元素赋值时间：${new Date()}`;

		Promise.resolve().then(function() {
			function sum() {
				new Array(38999999).fill(0).reduce(function(s, n, i) {
					s += i;
				}, 0)
			}
			sum();

			console.log(`Promise.prototype.then：${new Date()}`);
		});


		// 1. 宏任务执行：给dom元素h1赋值当前时间戳，Wed May 15 2019 23:32:33 GMT+0800 (中国标准时间)
		// 2. 注册微任务：Promise.resolve().then......
		// 3. 调用微任务：执行函数sum，执行完函数sum之后，在控制台打印当前时间戳：Wed May 15 2019 23:32:46 GMT+0800 (中国标准时间)
		// 4. 宏任务、微任务都执行完毕了，渲染UI，在页面中显示时间戳：Wed May 15 2019 23:32:33 GMT+0800 (中国标准时间)

	</script>
</body>
</html>